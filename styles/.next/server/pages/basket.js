(() => {
var exports = {};
exports.id = 701;
exports.ids = [701];
exports.modules = {

/***/ 193:
/***/ ((module) => {

// Exports
module.exports = {
	"basket": "basket_basket__n2Bs0",
	"basket__payment__info": "basket_basket__payment__info__2tDl_",
	"basket__payment__info__col_1": "basket_basket__payment__info__col_1__o_giF",
	"basket__payment__info__col_2": "basket_basket__payment__info__col_2__tEEDo",
	"basket__inputs": "basket_basket__inputs__BuEAd",
	"basket__header": "basket_basket__header__x9c1B",
	"basket__header__btns": "basket_basket__header__btns__JHgcL",
	"basket__header__btns__btn": "basket_basket__header__btns__btn__mJooS",
	"basket__products": "basket_basket__products__khRv9",
	"basket__products__card": "basket_basket__products__card__Akc3L",
	"basket__products__empty": "basket_basket__products__empty__Iavhn",
	"basket__products__empty__button": "basket_basket__products__empty__button__nZkSl",
	"basket__info": "basket_basket__info__lBlnq",
	"basket__info__text": "basket_basket__info__text__ttJYU",
	"basket__info__button": "basket_basket__info__button__3Kecg",
	"done": "basket_done__OPnri",
	"done__header": "basket_done__header__644T6",
	"done__delivery": "basket_done__delivery__QAg7y",
	"done__products": "basket_done__products__zx7mw",
	"done__products__product": "basket_done__products__product__dIXHI",
	"order": "basket_order__BLdMF",
	"order__back": "basket_order__back__w1z4y",
	"order__orders__payment": "basket_order__orders__payment__9r8AS",
	"order__orders__payment__images": "basket_order__orders__payment__images__oEq8C",
	"order__orders__payment__text": "basket_order__orders__payment__text__JA2G1",
	"order__orders__payment__radio": "basket_order__orders__payment__radio__O_Pnt",
	"order__orders": "basket_order__orders___el0u",
	"order__orders__products": "basket_order__orders__products__4gs1h",
	"order__orders__products__product": "basket_order__orders__products__product__7lOHq",
	"order__delivery": "basket_order__delivery___Pbfq",
	"order__delivery__radios": "basket_order__delivery__radios__2CzR1",
	"order__header": "basket_order__header__Opm7d",
	"order__header__btns": "basket_order__header__btns__MoZYR",
	"order__header__btns__btn": "basket_order__header__btns__btn__Pe0fA",
	"order__inputs": "basket_order__inputs__9ZouS",
	"order__inputs__input_error": "basket_order__inputs__input_error__V91ax",
	"order__inputs__container": "basket_order__inputs__container__N8aea",
	"order__inputs__container__double": "basket_order__inputs__container__double__OxtqO"
};


/***/ }),

/***/ 3607:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"src":"/_next/static/media/jcb_logo.135179a4.png","height":24,"width":30,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAA0UlEQVR4nAHGADn/AdjZ4bu1xt5EMi8j/xfq1gEO2+YA90U0ALLqxQBAITAAAaOmuv9dWscAb4k1AC+vegA8/SUAuWMpAG3vggCmSJsAAY+Tr/7d8PwBb2RIAPnNwwALtscA+GlPANsG8gAYCQMAAbS4yv/n8vsANzQoAAPYywAJs8MA/GpSANoG8gAZCwX/AZ6huP9iX9AAa4YsADOxewA8BCoAuF0mAG7vgQCtTKQAAcTG0/jN3O4AQTcjAPK9sgAmHCMA2yIP/9Pw1gdFKDy301tU5vy/7TgAAAAASUVORK5CYII=","blurWidth":8,"blurHeight":6});

/***/ }),

/***/ 4661:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"src":"/_next/static/media/mir_logo.473a7cf7.png","height":24,"width":84,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAAQElEQVR4nA3GoQ2AMBQA0fsKiUKyBkMwKIZNSh0aEjyirq7tiZe8aFf+gUO7kla92jRFS/k2RRX6AvH4WR/BOQAmiQ9SQdmjLQAAAABJRU5ErkJggg==","blurWidth":8,"blurHeight":2});

/***/ }),

/***/ 7611:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"src":"/_next/static/media/ms_logo.f65f3e2d.png","height":24,"width":30,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAsklEQVR4nBXNPQ4BURTF8XPezPiYhEmo0ChFBJVQUUho9ZaiZhVKa6DUsABiCwofEZFIMO9dd4pfc/PPPbyh0hRfVhKzEUS/fTiHsWHQpZMDwCmvqJzgSV0sXTS+G78FfGpFp4EBcEwCEeDHlJjC5OyYJz6dkhGPDiIBLyhv6GPkYiLffyIYAN9qBDgBgbV+KIX0OINlT6/b3BLWGTM0kN3rbRcaoa0y8FWMZPehsiqtvn+xsj9SIFSWJQAAAABJRU5ErkJggg==","blurWidth":8,"blurHeight":6});

/***/ }),

/***/ 2671:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"src":"/_next/static/media/visa_logo.17dd8803.png","height":24,"width":64,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAYAAACuyE5IAAAAU0lEQVR42g2IoQ2AUAwFOxJDEBSGFUgwP0EhcWAJDoVHsgUJaTtT+09cr/ckzEdoYQq1AisMdAezcJpQ/xkvfNDYNvzSn2Sm8NzQMxa84Af2UD8rGxdJYs+TFwkAAAAASUVORK5CYII=","blurWidth":8,"blurHeight":3});

/***/ }),

/***/ 9671:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getStaticProps": () => (/* binding */ getStaticProps)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(997);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6689);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var next_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1377);
/* harmony import */ var next_i18next__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_i18next__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var next_i18next_serverSideTranslations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5460);
/* harmony import */ var next_i18next_serverSideTranslations__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_i18next_serverSideTranslations__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1853);
/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _hooks_useTypedDispatch__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(4840);
/* harmony import */ var _hooks_useTypedSelector__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(4789);
/* harmony import */ var _http_api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(2139);
/* harmony import */ var _store_Slices_Basket_slice__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(201);
/* harmony import */ var _styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(193);
/* harmony import */ var _styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var _components_CardFloat__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(9413);
/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(2422);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(1664);
/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(1943);
/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(968);
/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _components_Container__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(9334);
/* harmony import */ var _store_Slices_Profile_slice__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(43);
/* harmony import */ var _public_images_mir_logo_png__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(4661);
/* harmony import */ var _public_images_visa_logo_png__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(2671);
/* harmony import */ var _public_images_jcb_logo_png__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(3607);
/* harmony import */ var _public_images_ms_logo_png__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(7611);
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_http_api__WEBPACK_IMPORTED_MODULE_7__, _store_Slices_Basket_slice__WEBPACK_IMPORTED_MODULE_8__, _components_CardFloat__WEBPACK_IMPORTED_MODULE_9__, _components_Layout__WEBPACK_IMPORTED_MODULE_12__, _store_Slices_Profile_slice__WEBPACK_IMPORTED_MODULE_15__]);
([_http_api__WEBPACK_IMPORTED_MODULE_7__, _store_Slices_Basket_slice__WEBPACK_IMPORTED_MODULE_8__, _components_CardFloat__WEBPACK_IMPORTED_MODULE_9__, _components_Layout__WEBPACK_IMPORTED_MODULE_12__, _store_Slices_Profile_slice__WEBPACK_IMPORTED_MODULE_15__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);





















const validEmailRegex = RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i);
const Basket = ()=>{
    const { locale  } = (0,next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)();
    const { t  } = (0,next_i18next__WEBPACK_IMPORTED_MODULE_2__.useTranslation)("basket");
    const dispatch = (0,_hooks_useTypedDispatch__WEBPACK_IMPORTED_MODULE_5__/* .useAppDispatch */ .T)();
    const user = (0,_hooks_useTypedSelector__WEBPACK_IMPORTED_MODULE_6__/* .useTypedSelector */ .i)((state)=>state.profile);
    const { products , isLoading , error  } = (0,_hooks_useTypedSelector__WEBPACK_IMPORTED_MODULE_6__/* .useTypedSelector */ .i)((state)=>state.basket);
    const [newProducts, setNewProducts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [selected, setSelected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);
    const [totalPriceNew, setTotalPrice] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);
    const [page, setPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);
    const [totalCountNew, setTotalCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);
    const [isDisabled, setIsDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (products.length === 0) {
            setNewProducts([]);
            setSelected([]);
            return;
        }
        setIsDisabled(true);
        if (user.isAuth) {
            _http_api__WEBPACK_IMPORTED_MODULE_7__/* .$api.get */ .Wh.get(`/${locale}/basket/`).then((res)=>{
                if (res.data) {
                    setNewProducts(res.data.length > 0 ? res.data : []);
                    setSelected([
                        ...res.data.filter((el)=>el.buy_now)
                    ]);
                }
            }).catch((e)=>{
                setNewProducts([]);
                setSelected([]);
            });
            return;
        } else {
            if (products.length > 0) {
                _http_api__WEBPACK_IMPORTED_MODULE_7__/* .$api.get */ .Wh.get(`/${locale}/basket/new/${products.length > 0 && `?ids=${products.map((el)=>el.more).join(",")}`}`).then((res)=>{
                    if (res.data) {
                        setNewProducts(res.data.map((el, index)=>{
                            el.count = products[index].count;
                            return el;
                        }));
                        setSelected([
                            ...res.data
                        ]);
                    }
                }).catch((e)=>{
                    setNewProducts([]);
                });
            } else {
                setSelected([]);
                setNewProducts([]);
            }
            return;
        }
    }, [
        locale,
        products,
        user.isAuth
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        setIsDisabled(true);
        if (user.isAuth) {
            _http_api__WEBPACK_IMPORTED_MODULE_7__/* .$api.get */ .Wh.get(`/${locale}/basket/price`).then((res)=>{
                let totalC = 0;
                selected.map((el)=>{
                    totalC += el.count || 1;
                });
                setTotalCount(totalC);
                setTotalPrice(+res.data.toFixed(2));
                if (+res.data.toFixed(0) > 0 || totalC > 0) {
                    setIsDisabled(false);
                } else {
                    setIsDisabled(true);
                }
            });
        } else {
            let totalP = 0;
            let totalC = 0;
            selected.map((el, index)=>{
                totalC += el.count || 1;
                totalP += el.price * (el.count || 1);
            });
            setTotalPrice(+totalP.toFixed(2));
            setTotalCount(totalC);
            if (+totalP.toFixed(0) > 0 || totalC > 0) {
                setIsDisabled(false);
            } else {
                setIsDisabled(true);
            }
        }
    }, [
        selected
    ]);
    const selectHandler = (product)=>{
        const includes = selected.find((el)=>el.more === product.more);
        if (!includes) {
            if (user.isAuth) {
                _http_api__WEBPACK_IMPORTED_MODULE_7__/* .$api.patch */ .Wh.patch(`${locale}/basket/${product.id}/`, {
                    buy_now: true
                }).then(()=>{
                    setSelected((prev)=>[
                            ...prev,
                            product
                        ]);
                });
            } else {
                setSelected((prev)=>[
                        ...prev,
                        product
                    ]);
            }
            return;
        } else {
            let arr = selected.filter((el)=>el.more !== product.more);
            if (user.isAuth) {
                _http_api__WEBPACK_IMPORTED_MODULE_7__/* .$api.patch */ .Wh.patch(`${locale}/basket/${product.id}/`, {
                    buy_now: false
                }).then(()=>{
                    setSelected([
                        ...arr
                    ]);
                });
            } else {
                setSelected([
                    ...arr
                ]);
            }
            return;
        }
    };
    const selectAllProductHandler = ()=>{
        if (user.isAuth) {
            newProducts.map((el)=>{
                _http_api__WEBPACK_IMPORTED_MODULE_7__/* .$api.patch */ .Wh.patch(`${locale}/basket/${el.id}/`, {
                    buy_now: true
                });
            });
        }
        setSelected([
            ...newProducts
        ]);
    };
    const removeAllProductFromBasketHandler = ()=>{
        if (user.isAuth) {
            newProducts.map((el)=>{
                _http_api__WEBPACK_IMPORTED_MODULE_7__/* .$api["delete"] */ .Wh["delete"](`${locale}/basket/${el.id}/`).then(()=>{
                    setNewProducts([]);
                    setSelected([]);
                }).catch(()=>{});
            });
        }
        setNewProducts([]);
        dispatch((0,_store_Slices_Basket_slice__WEBPACK_IMPORTED_MODULE_8__/* .removeAllProductFromBasket */ .LB)());
    };
    const [firstName, setFirstName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");
    const [lastName, setLastName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");
    const [phoneUpd, setPhoneUpd] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");
    const [digits, setDigits] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");
    const [email, setEmail] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");
    const [errors, setErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({
        first: null,
        last: null,
        phone: null,
        email: null,
        area: null,
        city: null,
        street: null,
        house: null,
        apart: null
    });
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        if (user.user) {
            setFirstName(user.user.first_name || "");
            setLastName(user.user.last_name || "");
            setEmail(user.user.email || "");
            let phoneLen = user.user.phone.toString().length;
            let digits = user.user.phone.toString().substring(0, phoneLen - 10);
            let number = user.user.phone.toString().substring(phoneLen - 10, 11);
            let formattedPhone = "";
            formattedPhone += `+${digits} ` + number.substring(0, 3);
            formattedPhone += " " + number.substring(3, 6);
            formattedPhone += " " + number.substring(6, 8);
            formattedPhone += " " + number.substring(8, 10);
            setPhoneUpd(formattedPhone);
            setDigits(digits);
        }
    }, [
        user.user
    ]);
    const onChangeFirst = (e)=>{
        setFirstName(e.target.value);
        if (e.target.value.length <= 0) {
            setErrors((prev)=>Object.assign(prev, {
                    first: locale === "ru" ? "Введите имя" : "Enter firstname"
                }));
        } else {
            setErrors((prev)=>Object.assign(prev, {
                    first: null
                }));
        }
    };
    const onChangeLast = (e)=>{
        setLastName(e.target.value);
        if (e.target.value.length <= 0) {
            setErrors((prev)=>Object.assign(prev, {
                    last: locale === "ru" ? "Введите фамилию" : "Enter lastname"
                }));
        } else {
            setErrors((prev)=>Object.assign(prev, {
                    last: null
                }));
        }
    };
    // const onChangePhone = (e: ChangeEvent<HTMLInputElement>) => {
    //   let phoneVal = e.target.value.replace(/\D/g, ""),
    //     formattedPhone = `+7`
    //
    //   if(!phoneVal){
    //     setPhoneUpd('');
    //   }
    //
    //   const phoneLen = 1
    //
    //   if (phoneVal.length > phoneLen) {
    //     formattedPhone += ' ' + phoneVal.substring(phoneLen, phoneLen+3);
    //   }
    //
    //   if (phoneVal.length >= phoneLen+4) {
    //     formattedPhone += ' ' + phoneVal.substring(phoneLen+3, phoneLen+6);
    //   }
    //
    //   if (phoneVal.length >= phoneLen+7) {
    //     formattedPhone += ' ' + phoneVal.substring(phoneLen+6, phoneLen+8);
    //   }
    //
    //   if (phoneVal.length >= phoneLen+9) {
    //     formattedPhone += ' ' + phoneVal.substring(phoneLen+8, phoneLen+10);
    //   }
    //
    //   setPhoneUpd(formattedPhone);
    //   if(formattedPhone.length === phoneLen+15){
    //     setErrors(prev => Object.assign(prev, {phone: null}))
    //   }else{
    //     setErrors(prev => Object.assign(prev, {phone: locale === 'ru' ? 'Введите номер телефона' : 'Enter valid phone number'}))
    //   }
    // }
    const onChangeEmail = (e)=>{
        setEmail(e.target.value);
        if (!validEmailRegex.test(e.target.value)) {
            setErrors((prev)=>Object.assign(prev, {
                    email: locale === "ru" ? "Введите корректный Email" : "Enter valid Email"
                }));
        } else {
            setErrors((prev)=>Object.assign(prev, {
                    email: null
                }));
        }
    };
    const [area, setArea] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");
    const [city, setCity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");
    const [street, setStreet] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");
    const [house, setHouse] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");
    const [apart, setApart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");
    const [delivery, setDelivery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("2");
    const [payment, setPayment] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("cash");
    const [done, setDone] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);
    const onChangeArea = (e)=>{
        setArea(e.target.value);
        if (e.target.value.length <= 0) {
            setErrors((prev)=>Object.assign(prev, {
                    area: locale === "ru" ? "Введите область" : "Enter area"
                }));
        } else {
            setErrors((prev)=>Object.assign(prev, {
                    area: null
                }));
        }
    };
    const onChangeCity = (e)=>{
        setCity(e.target.value);
        if (e.target.value.length <= 0) {
            setErrors((prev)=>Object.assign(prev, {
                    city: locale === "ru" ? "Введите город" : "Enter city"
                }));
        } else {
            setErrors((prev)=>Object.assign(prev, {
                    city: null
                }));
        }
    };
    const onChangeStreet = (e)=>{
        setStreet(e.target.value);
        if (e.target.value.length <= 0) {
            setErrors((prev)=>Object.assign(prev, {
                    street: locale === "ru" ? "Введите улицу" : "Enter street"
                }));
        } else {
            setErrors((prev)=>Object.assign(prev, {
                    street: null
                }));
        }
    };
    const onChangeHouse = (e)=>{
        let house = e.target.value.replace(/\D/g, "").substring(0, 5);
        setHouse(house);
        if (e.target.value.length <= 0) {
            setErrors((prev)=>Object.assign(prev, {
                    house: locale === "ru" ? "Введите номер дома" : "Enter the house number"
                }));
        } else {
            setErrors((prev)=>Object.assign(prev, {
                    house: null
                }));
        }
    };
    const onChangeApart = (e)=>{
        let apart = e.target.value.replace(/\D/g, "").substring(0, 5);
        setApart(apart);
        if (e.target.value.length <= 0) {
            setErrors((prev)=>Object.assign(prev, {
                    apart: locale === "ru" ? "Введите номер квартиры" : "Enter the apartment number"
                }));
        } else {
            setErrors((prev)=>Object.assign(prev, {
                    apart: null
                }));
        }
    };
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        setIsDisabled(true);
        if (errors.email || email.length <= 0) return;
        if (errors.phone || phoneUpd.length <= 0) return;
        if (errors.first || firstName.length <= 0) return;
        if (errors.last || lastName.length <= 0) return;
        if (errors.area || area.length <= 0) return;
        if (errors.city || city.length <= 0) return;
        if (errors.house || house.length <= 0) return;
        if (errors.apart || apart.length <= 0) return;
        setIsDisabled(false);
    }, [
        errors,
        email,
        phoneUpd,
        firstName,
        lastName,
        area,
        city,
        street,
        house,
        apart
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{
        window.scrollTo({
            top: 0,
            behavior: "smooth"
        });
        setIsDisabled(true);
        switch(page){
            case 0:
                setIsDisabled(false);
                break;
            case 1:
                if (errors.email || email.length <= 0) return;
                if (errors.phone || phoneUpd.length <= 0) return;
                if (errors.first || firstName.length <= 0) return;
                if (errors.last || lastName.length <= 0) return;
                if (errors.area || area.length <= 0) return;
                if (errors.city || city.length <= 0) return;
                if (errors.house || house.length <= 0) return;
                if (errors.apart || apart.length <= 0) return;
                setIsDisabled(false);
                break;
        }
        window.scrollTo({
            top: 0,
            behavior: "smooth"
        });
    }, [
        page
    ]);
    const returnPages = ()=>{
        switch(page){
            case 0:
                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket__header),
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h1", {
                                    children: t("title")
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket__header__btns),
                                    children: [
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                            onClick: removeAllProductFromBasketHandler,
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket__header__btns__btn),
                                            children: t("clear")
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                            onClick: selectAllProductHandler,
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket__header__btns__btn),
                                            children: t("selectAll")
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket__products),
                            children: newProducts.length > 0 ? newProducts.map((el, index)=>{
                                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket__products__card),
                                    children: [
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                            onChange: ()=>selectHandler(el),
                                            checked: selected.indexOf(el) !== -1,
                                            type: "checkbox"
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_components_CardFloat__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .Z, {
                                            product: el,
                                            isBasket: true
                                        })
                                    ]
                                });
                            }) : /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket__products__empty),
                                children: [
                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h2", {
                                        children: t("empty")
                                    }),
                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_components_Button__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z, {
                                        type: "link",
                                        href: "/catalog",
                                        text: t("toCatalogue")
                                    })
                                ]
                            })
                        })
                    ]
                });
            case 1:
                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order),
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            children: [
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", {
                                    onClick: ()=>setPage(0),
                                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__back),
                                    children: [
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("svg", {
                                            width: "8",
                                            height: "16",
                                            viewBox: "0 0 8 16",
                                            fill: "none",
                                            xmlns: "http://www.w3.org/2000/svg",
                                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("path", {
                                                d: "M6.41475 0.316623L0.202765 7.40897C0.129032 7.4934 0.0769276 7.58487 0.0464514 7.68338C0.0154837 7.78188 0 7.88742 0 8C0 8.11258 0.0154837 8.21812 0.0464514 8.31662C0.0769276 8.41513 0.129032 8.5066 0.202765 8.59103L6.41475 15.7045C6.58679 15.9015 6.80184 16 7.05991 16C7.31797 16 7.53917 15.8945 7.7235 15.6834C7.90783 15.4723 8 15.226 8 14.9446C8 14.6631 7.90783 14.4169 7.7235 14.2058L2.30415 8L7.7235 1.7942C7.89554 1.59719 7.98157 1.35458 7.98157 1.06639C7.98157 0.777625 7.8894 0.527704 7.70507 0.316623C7.52074 0.10554 7.30568 0 7.05991 0C6.81413 0 6.59908 0.10554 6.41475 0.316623Z",
                                                fill: "#A0A0A0"
                                            })
                                        }),
                                        t("back")
                                    ]
                                }),
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__header),
                                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h1", {
                                        children: t("title_1")
                                    })
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs),
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__container),
                                            children: [
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h3", {
                                                    children: t("order.inputs.first")
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                                    className: errors.first ? (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__input_error) : "",
                                                    value: firstName,
                                                    onChange: onChangeFirst,
                                                    placeholder: t("order.inputs.first_pl"),
                                                    type: "text"
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                                    children: errors.first ? errors.first : ""
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__container),
                                            children: [
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h3", {
                                                    children: t("order.inputs.last")
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                                    className: errors.last ? (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__input_error) : "",
                                                    value: lastName,
                                                    onChange: onChangeLast,
                                                    placeholder: t("order.inputs.last_pl"),
                                                    type: "text"
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                                    children: errors.last ? errors.last : ""
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__container),
                                            children: [
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h3", {
                                                    children: t("order.inputs.phone")
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                                    disabled: true,
                                                    className: errors.phone ? (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__input_error) : "",
                                                    value: phoneUpd,
                                                    placeholder: "+7 999 999 99 99",
                                                    type: "text"
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                                    children: errors.phone ? errors.phone : ""
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__container),
                                            children: [
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h3", {
                                                    children: "Email*"
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                                    className: errors.email ? (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__input_error) : "",
                                                    value: email,
                                                    onChange: onChangeEmail,
                                                    placeholder: "info@tmshe.com",
                                                    type: "text"
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                                    children: errors.email ? errors.email : ""
                                                })
                                            ]
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__header),
                                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h1", {
                                        children: t("order.title")
                                    })
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs),
                                    children: [
                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__container),
                                            children: [
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h3", {
                                                    children: t("order.inputs.area")
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                                    className: errors.area ? (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__input_error) : "",
                                                    value: area,
                                                    onChange: onChangeArea,
                                                    placeholder: t("order.inputs.area_pl"),
                                                    type: "text"
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                                    children: errors.area ? errors.area : ""
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__container),
                                            children: [
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h3", {
                                                    children: t("order.inputs.city")
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                                    className: errors.city ? (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__input_error) : "",
                                                    value: city,
                                                    onChange: onChangeCity,
                                                    placeholder: t("order.inputs.city_pl"),
                                                    type: "text"
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                                    children: errors.city ? errors.city : ""
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__container),
                                            children: [
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h3", {
                                                    children: t("order.inputs.street")
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                                    className: errors.street ? (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__input_error) : "",
                                                    value: street,
                                                    onChange: onChangeStreet,
                                                    placeholder: t("order.inputs.street_pl"),
                                                    type: "text"
                                                }),
                                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                                    children: errors.street ? errors.street : ""
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__container) + " " + (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__container__double),
                                            children: [
                                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                    children: [
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h3", {
                                                            children: t("order.inputs.home")
                                                        }),
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                                            className: errors.house ? (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__input_error) : "",
                                                            value: house,
                                                            onChange: onChangeHouse,
                                                            placeholder: "1",
                                                            type: "text"
                                                        }),
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                                            children: errors.house ? errors.house : ""
                                                        })
                                                    ]
                                                }),
                                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                    children: [
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h3", {
                                                            children: t("order.inputs.apartment")
                                                        }),
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                                            className: errors.apart ? (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__inputs__input_error) : "",
                                                            value: apart,
                                                            onChange: onChangeApart,
                                                            placeholder: "1",
                                                            type: "text"
                                                        }),
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                                            children: errors.apart ? errors.apart : ""
                                                        })
                                                    ]
                                                })
                                            ]
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__delivery),
                                    children: [
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h2", {
                                            children: t("order.inputs.delivery")
                                        }),
                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__delivery__radios),
                                            onChange: (e)=>setDelivery(e.target.value),
                                            children: [
                                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                    children: [
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                                            checked: delivery === "1",
                                                            type: "radio",
                                                            value: "1",
                                                            name: "delivery",
                                                            id: "self"
                                                        }),
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("label", {
                                                            htmlFor: "self",
                                                            children: t("order.inputs.radio_1")
                                                        })
                                                    ]
                                                }),
                                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                    children: [
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                                            checked: delivery === "2",
                                                            type: "radio",
                                                            value: "2",
                                                            name: "delivery",
                                                            id: "transport"
                                                        }),
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("label", {
                                                            htmlFor: "transport",
                                                            children: t("order.inputs.radio_2")
                                                        })
                                                    ]
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                            children: t("order.about_delivery")
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__orders),
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__header),
                                    children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h1", {
                                        children: t("order.payment")
                                    })
                                }),
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h2", {
                                    children: t("order.products")
                                }),
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__orders__products),
                                    children: selected.length > 0 ? selected.map((el, index)=>{
                                        return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__orders__products__product),
                                            children: [
                                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                    children: [
                                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx((next_link__WEBPACK_IMPORTED_MODULE_11___default()), {
                                                            href: `${locale}/product/${el.product_id}`,
                                                            children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h3", {
                                                                children: el.name
                                                            })
                                                        }),
                                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", {
                                                            children: [
                                                                locale === "ru" ? "г." : "g.",
                                                                ": ",
                                                                el.ml
                                                            ]
                                                        }),
                                                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", {
                                                            children: [
                                                                "x",
                                                                products[index].count
                                                            ]
                                                        })
                                                    ]
                                                }),
                                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", {
                                                    children: [
                                                        (el.price * (products[index].count || 1)).toFixed(2),
                                                        " ",
                                                        el.price_currency === "RUB" ? "₽" : "$"
                                                    ]
                                                })
                                            ]
                                        });
                                    }) : /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                        children: t("empty")
                                    })
                                }),
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h2", {
                                    children: t("order.payment_methods")
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__orders__payment),
                                    onChange: (e)=>setPayment(e.target.value),
                                    children: [
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__orders__payment__radio),
                                            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                children: [
                                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                                        checked: payment === "card",
                                                        type: "radio",
                                                        value: "card",
                                                        name: "payment",
                                                        id: "card"
                                                    }),
                                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("label", {
                                                        htmlFor: "card",
                                                        children: t("order.inputs.radio_3")
                                                    })
                                                ]
                                            })
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__orders__payment__radio),
                                            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                children: [
                                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("input", {
                                                        checked: payment === "cash",
                                                        type: "radio",
                                                        value: "cash",
                                                        name: "payment",
                                                        id: "cash"
                                                    }),
                                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("label", {
                                                        htmlFor: "cash",
                                                        children: t("order.inputs.radio_4")
                                                    })
                                                ]
                                            })
                                        })
                                    ]
                                }),
                                payment === "card" ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__orders__payment__images),
                                    children: [
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("img", {
                                            src: _public_images_mir_logo_png__WEBPACK_IMPORTED_MODULE_16__/* ["default"].src */ .Z.src,
                                            alt: "mir_logo"
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("img", {
                                            src: _public_images_ms_logo_png__WEBPACK_IMPORTED_MODULE_19__/* ["default"].src */ .Z.src,
                                            alt: "ms_logo"
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("img", {
                                            src: _public_images_visa_logo_png__WEBPACK_IMPORTED_MODULE_17__/* ["default"].src */ .Z.src,
                                            alt: "visa_logo"
                                        }),
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("img", {
                                            src: _public_images_jcb_logo_png__WEBPACK_IMPORTED_MODULE_18__/* ["default"].src */ .Z.src,
                                            alt: "jcb_logo"
                                        })
                                    ]
                                }) : payment === "cash" ? /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().order__orders__payment__text),
                                    children: t("order.about_payment")
                                }) : /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {})
                            ]
                        })
                    ]
                });
            case 2:
                return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                    className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().done),
                    children: [
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().done__header),
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h1", {
                                    children: t("title_1")
                                }),
                                /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", {
                                    children: [
                                        locale === "ru" ? "Дата" : "Date",
                                        ": ",
                                        /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                                            children: new Date(done.data_order).toLocaleString().split(", ").join(" ")
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h2", {
                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().done__order_id),
                            children: [
                                locale === "ru" ? "Номер заказа" : "Order id",
                                ": #",
                                done.order_id
                            ]
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().done__products),
                            children: [
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h2", {
                                    children: t("order.products")
                                }),
                                selected.length > 0 ? selected.map((el, index)=>{
                                    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                        className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().done__products__product),
                                        children: [
                                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                children: [
                                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx((next_link__WEBPACK_IMPORTED_MODULE_11___default()), {
                                                        href: `${locale}/product/${el.product_id}`,
                                                        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("h3", {
                                                            children: el.name
                                                        })
                                                    }),
                                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p", {
                                                        children: [
                                                            "x",
                                                            products[index].count || 1
                                                        ]
                                                    })
                                                ]
                                            }),
                                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h3", {
                                                children: [
                                                    (el.price * (products[index].count || 1)).toFixed(2),
                                                    " ",
                                                    el.price_currency === "RUB" ? "₽" : "$"
                                                ]
                                            })
                                        ]
                                    });
                                }) : /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("p", {
                                    children: t("empty")
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h2", {
                            className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().done__delivery),
                            children: [
                                t("order.inputs.delivery"),
                                ": ",
                                /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("span", {
                                    children: done.delivery_id === 2 ? t("order.inputs.delivery_2") : t("order.inputs.delivery_1")
                                })
                            ]
                        })
                    ]
                });
        }
    };
    const makeOrder = ()=>{
        const profile_data = new FormData();
        const order_data = new FormData();
        profile_data.append("email", email);
        profile_data.append("phone", phoneUpd.replace(/\s/g, "").replace(/\+/, ""));
        profile_data.append("first_name", firstName);
        profile_data.append("last_name", lastName);
        const fullAdress = `${area} ${city} ${street} ${house} ${apart}`;
        order_data.append("address", fullAdress);
        order_data.append("pay_online", "False");
        order_data.append("delivery", delivery);
        _http_api__WEBPACK_IMPORTED_MODULE_7__/* .$api.patch */ .Wh.patch("/profile/", profile_data).then(()=>{
            _http_api__WEBPACK_IMPORTED_MODULE_7__/* .$api.post */ .Wh.post(`/${locale}/order/buy/`, order_data).then((res)=>{
                setDone(res.data);
                setPage(2);
            }).catch((res)=>{});
        }).catch((res)=>{});
    };
    const handleClick = ()=>{
        setIsDisabled(true);
        switch(page){
            case 0:
                if (isAuth) {
                    setPage(1);
                }
                break;
            case 1:
                if (isAuth) {
                    makeOrder();
                }
                break;
        }
    };
    const { isAuth  } = (0,_hooks_useTypedSelector__WEBPACK_IMPORTED_MODULE_6__/* .useTypedSelector */ .i)((state)=>state.profile);
    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_Layout__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Z, {
        children: [
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx((next_head__WEBPACK_IMPORTED_MODULE_13___default()), {
                children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("title", {
                    children: [
                        t("title"),
                        " | ™SHE"
                    ]
                })
            }),
            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_components_Container__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */ .Z, {
                    children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                        className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket),
                        children: [
                            returnPages(),
                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket__info),
                                children: [
                                    page !== 2 ? /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h1", {
                                        className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket__info__text),
                                        children: [
                                            t("total"),
                                            " ",
                                            totalCountNew,
                                            " ",
                                            t("productsToBuy"),
                                            ": ",
                                            /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                                children: [
                                                    totalPriceNew,
                                                    " ",
                                                    locale === "ru" ? "₽" : "$"
                                                ]
                                            })
                                        ]
                                    }) : /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h1", {
                                        className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket__info__text),
                                        children: [
                                            totalPriceNew,
                                            " ",
                                            locale === "ru" ? "₽" : "$"
                                        ]
                                    }),
                                    isAuth ? page !== 2 && /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_components_Button__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z, {
                                        disabled: isDisabled,
                                        text: t("buy"),
                                        onClick: handleClick
                                    }) : /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx(_components_Button__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .Z, {
                                        onClick: ()=>dispatch((0,_store_Slices_Profile_slice__WEBPACK_IMPORTED_MODULE_15__/* .toggleShowAuth */ .zD)(true)),
                                        text: t("auth")
                                    })
                                ]
                            }),
                            isAuth && page === 1 && payment === "card" && /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket__payment__info),
                                children: [
                                    /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", {
                                        className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket__payment__info__col_1),
                                        children: [
                                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                children: t("order.payment__info.info_1")
                                            }),
                                            /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                                children: t("order.payment__info.info_2")
                                            })
                                        ]
                                    }),
                                    /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("div", {
                                        className: (_styles_pages_basket_module_scss__WEBPACK_IMPORTED_MODULE_20___default().basket__payment__info__col_2),
                                        children: t("order.payment__info.info_3")
                                    })
                                ]
                            })
                        ]
                    })
                })
            })
        ]
    });
};
const getStaticProps = async ({ locale  })=>{
    return {
        props: {
            ...await (0,next_i18next_serverSideTranslations__WEBPACK_IMPORTED_MODULE_3__.serverSideTranslations)(locale ?? "ru", [
                "basket",
                "common"
            ])
        },
        revalidate: 10
    };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Basket);

__webpack_async_result__();
} catch(e) { __webpack_async_result__(e); } });

/***/ }),

/***/ 5184:
/***/ ((module) => {

"use strict";
module.exports = require("@reduxjs/toolkit");

/***/ }),

/***/ 1377:
/***/ ((module) => {

"use strict";
module.exports = require("next-i18next");

/***/ }),

/***/ 5460:
/***/ ((module) => {

"use strict";
module.exports = require("next-i18next/serverSideTranslations");

/***/ }),

/***/ 3280:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/app-router-context.js");

/***/ }),

/***/ 2796:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/head-manager-context.js");

/***/ }),

/***/ 3539:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/i18n/detect-domain-locale.js");

/***/ }),

/***/ 4014:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/i18n/normalize-locale-path.js");

/***/ }),

/***/ 8524:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/is-plain-object.js");

/***/ }),

/***/ 8020:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/mitt.js");

/***/ }),

/***/ 4406:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/page-path/denormalize-page-path.js");

/***/ }),

/***/ 4964:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router-context.js");

/***/ }),

/***/ 3431:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/add-locale.js");

/***/ }),

/***/ 1751:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/add-path-prefix.js");

/***/ }),

/***/ 6220:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/compare-states.js");

/***/ }),

/***/ 299:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/format-next-pathname-info.js");

/***/ }),

/***/ 3938:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/format-url.js");

/***/ }),

/***/ 9565:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/get-asset-path-from-route.js");

/***/ }),

/***/ 5789:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/get-next-pathname-info.js");

/***/ }),

/***/ 1897:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-bot.js");

/***/ }),

/***/ 1428:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-dynamic.js");

/***/ }),

/***/ 8854:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/parse-path.js");

/***/ }),

/***/ 1292:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/parse-relative-url.js");

/***/ }),

/***/ 4567:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/path-has-prefix.js");

/***/ }),

/***/ 979:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/querystring.js");

/***/ }),

/***/ 3297:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/remove-trailing-slash.js");

/***/ }),

/***/ 6052:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/resolve-rewrites.js");

/***/ }),

/***/ 4226:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/route-matcher.js");

/***/ }),

/***/ 5052:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/route-regex.js");

/***/ }),

/***/ 9232:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/utils.js");

/***/ }),

/***/ 968:
/***/ ((module) => {

"use strict";
module.exports = require("next/head");

/***/ }),

/***/ 1853:
/***/ ((module) => {

"use strict";
module.exports = require("next/router");

/***/ }),

/***/ 6689:
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ 6405:
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ 6022:
/***/ ((module) => {

"use strict";
module.exports = require("react-redux");

/***/ }),

/***/ 997:
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ 9648:
/***/ ((module) => {

"use strict";
module.exports = import("axios");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [676,664,50,227,714,201,413], () => (__webpack_exec__(9671)));
module.exports = __webpack_exports__;

})();